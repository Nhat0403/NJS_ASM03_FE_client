{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _createForOfIteratorHelper from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignment 03 Client App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignment 03 Client App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignment 03 Client App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignment 03 Client App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import queryString from'query-string';import CartAPI from'../API/CartAPI';import CheckoutAPI from'../API/CheckoutAPI';import convertMoney from'../convertMoney';import'./Checkout.css';import axios from'axios';// import io from 'socket.io-client';\n// const socket = io('http://localhost:5000');\nfunction Checkout(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carts=_useState2[0],setCarts=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),total=_useState4[0],setTotal=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),fullname=_useState6[0],setFullname=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fullnameError=_useState8[0],setFullnameError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),emailError=_useState12[0],setEmailError=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),emailRegex=_useState14[0],setEmailRegex=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),phone=_useState16[0],setPhone=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),phoneError=_useState18[0],setPhoneError=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),address=_useState20[0],setAddress=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),addressError=_useState22[0],setAddressError=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),success=_useState24[0],setSuccess=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),load=_useState26[0],setLoad=_useState26[1];var idUser=localStorage.getItem('id_user');//Hàm này dùng để gọi API và render số sản phẩm\nuseEffect(function(){if(idUser){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,query,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params={idUser:idUser};query='?'+queryString.stringify(params);_context.next=4;return CartAPI.getCarts(query);case 4:response=_context.sent;console.log(response);setCarts(response);getTotal(response);if(response.length===0){window.location.replace('/cart');}case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();}},[]);//Hàm này dùng để tính tổng tiền carts\nfunction getTotal(carts){var sub_total=0;var sum_total=carts.map(function(value){return sub_total+=parseInt(value.productId.price)*parseInt(value.quantity);});setTotal(sub_total);}//Check Validation\nvar handlerSubmit=function handlerSubmit(){if(!fullname){setFullnameError(true);setEmailError(false);setPhoneError(false);setAddressError(false);return;}else{if(!email){setFullnameError(false);setEmailError(true);setPhoneError(false);setAddressError(false);return;}else{setPhoneError(false);setAddressError(false);setFullnameError(false);if(!validateEmail(email)){setEmailRegex(true);setFullnameError(false);setEmailError(false);setPhoneError(false);setAddressError(false);return;}else{setEmailRegex(false);if(!phone){setFullnameError(false);setEmailError(false);setPhoneError(true);setAddressError(false);return;}else{setFullnameError(false);setEmailError(false);setPhoneError(false);setAddressError(false);if(!address){setFullnameError(false);setEmailError(false);setPhoneError(false);setAddressError(true);}else{console.log('Thanh Cong');setLoad(!load);}}}}}};console.log(load);//Hàm này bắt đầu gửi Email xác nhận đơn hàng\nuseEffect(function(){if(load){var products=[];var _iterator=_createForOfIteratorHelper(carts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cart=_step.value;products.push({productId:cart.productId._id,quantity:cart.quantity});}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(products);var params={idUser:idUser,total:total,fullname:fullname,email:email,phone:phone,address:address,products:products};var query='?'+queryString.stringify(params);var sendMail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return CheckoutAPI.postEmail(query);case 2:response=_context2.sent;console.log(response);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function sendMail(){return _ref2.apply(this,arguments);};}();var sendOrder=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return CheckoutAPI.postOrder(query);case 2:response=_context3.sent;console.log(response);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function sendOrder(){return _ref3.apply(this,arguments);};}();sendMail();sendOrder();// const data = localStorage.getItem('id_user');\n// Gửi socket lên server\n// socket.emit('send_order', data);\n//Dùng setTimeout delay 3s\n//Sau 4s nó sẽ thực hiện\nsetTimeout(function(){setSuccess(!success);setLoad(!load);},4000);}},[load]);var onChangeName=function onChangeName(e){setFullname(e.target.value);};var onChangeEmail=function onChangeEmail(e){setEmail(e.target.value);};var onChangePhone=function onChangePhone(e){setPhone(e.target.value);};var onChangeAddress=function onChangeAddress(e){setAddress(e.target.value);};function validateEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase());}return/*#__PURE__*/_jsxs(\"div\",{children:[load&&/*#__PURE__*/_jsx(\"div\",{className:\"wrapper_loader\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row px-4 px-lg-5 py-lg-4 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h2 text-uppercase mb-0\",children:\"Checkout\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 text-lg-right\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb justify-content-lg-end mb-0 px-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"cart.html\",children:\"Cart\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Checkout\"})]})})})]})})}),!success&&/*#__PURE__*/_jsxs(\"section\",{className:\"py-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h5 text-uppercase mb-4\",children:\"Billing details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-small text-uppercase\",htmlFor:\"Fullname\",children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg\",value:fullname,onChange:onChangeName,type:\"text\",placeholder:\"Enter Your Full Name Here!\"}),fullnameError&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"* Please Check Your Full Name!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-small text-uppercase\",htmlFor:\"Email\",children:[\"Email:\",' ']}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg\",value:email,onChange:onChangeEmail,type:\"text\",placeholder:\"Enter Your Email Here!\"}),emailError&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"* Please Check Your Email!\"}),emailRegex&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"* Incorrect Email Format\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-small text-uppercase\",htmlFor:\"Phone\",children:[\"Phone Number:\",' ']}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg\",value:phone,onChange:onChangePhone,type:\"text\",placeholder:\"Enter Your Phone Number Here!\"}),phoneError&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"* Please Check Your Phone Number!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-small text-uppercase\",htmlFor:\"Address\",children:[\"Address:\",' ']}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg\",value:address,onChange:onChangeAddress,type:\"text\",placeholder:\"Enter Your Address Here!\"}),addressError&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"* Please Check Your Address!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 form-group\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-dark\",style:{color:'white'},type:\"submit\",onClick:handlerSubmit,children:\"Place order\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-0 p-lg-4 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-uppercase mb-4\",children:\"Your order\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled mb-0\",children:[carts&&carts.map(function(value){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"small font-weight-bold\",children:value.productId.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted small\",children:[convertMoney(value.productId.price),' ',\"VND x \",value.quantity]})]}),/*#__PURE__*/_jsx(\"li\",{className:\"border-bottom my-2\"})]},value.productId._id);}),/*#__PURE__*/_jsxs(\"li\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-uppercase small font-weight-bold\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[convertMoney(total),\" VND\"]})]})]})]})})})]})]}),success&&/*#__PURE__*/_jsx(\"section\",{className:\"py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"You Have Successfully Ordered!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.2rem'},children:\"Please Check Your Email.\"})]})})]})]});}export default Checkout;","map":{"version":3,"sources":["D:/funix/NJS301x_1.0-A_VN Lập trình Web Back-End với NodeJS/assignment 03/Frontend Assignment 03 Client App/src/Checkout/Checkout.jsx"],"names":["React","useEffect","useState","queryString","CartAPI","CheckoutAPI","convertMoney","axios","Checkout","props","carts","setCarts","total","setTotal","fullname","setFullname","fullnameError","setFullnameError","email","setEmail","emailError","setEmailError","emailRegex","setEmailRegex","phone","setPhone","phoneError","setPhoneError","address","setAddress","addressError","setAddressError","success","setSuccess","load","setLoad","idUser","localStorage","getItem","fetchData","params","query","stringify","getCarts","response","console","log","getTotal","length","window","location","replace","sub_total","sum_total","map","value","parseInt","productId","price","quantity","handlerSubmit","validateEmail","products","cart","push","_id","sendMail","postEmail","sendOrder","postOrder","setTimeout","onChangeName","e","target","onChangeEmail","onChangePhone","onChangeAddress","re","test","String","toLowerCase","color","name","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport queryString from 'query-string';\nimport CartAPI from '../API/CartAPI';\nimport CheckoutAPI from '../API/CheckoutAPI';\nimport convertMoney from '../convertMoney';\nimport './Checkout.css';\nimport axios from 'axios';\n\n// import io from 'socket.io-client';\n// const socket = io('http://localhost:5000');\n\nfunction Checkout(props) {\n\tconst [carts, setCarts] = useState([]);\n\n\tconst [total, setTotal] = useState(0);\n\n\tconst [fullname, setFullname] = useState('');\n\tconst [fullnameError, setFullnameError] = useState(false);\n\n\tconst [email, setEmail] = useState('');\n\tconst [emailError, setEmailError] = useState(false);\n\n\tconst [emailRegex, setEmailRegex] = useState(false);\n\n\tconst [phone, setPhone] = useState('');\n\tconst [phoneError, setPhoneError] = useState(false);\n\n\tconst [address, setAddress] = useState('');\n\tconst [addressError, setAddressError] = useState(false);\n\n\tconst [success, setSuccess] = useState(false);\n\n\tconst [load, setLoad] = useState(false);\n\n\tconst idUser = localStorage.getItem('id_user');\n\n\t//Hàm này dùng để gọi API và render số sản phẩm\n\tuseEffect(() => {\n\t\tif (idUser) {\n\t\t\tconst fetchData = async () => {\n\t\t\t\tconst params = {\n\t\t\t\t\tidUser: idUser,\n\t\t\t\t};\n\n\t\t\t\tconst query = '?' + queryString.stringify(params);\n\n\t\t\t\tconst response = await CartAPI.getCarts(query);\n\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tsetCarts(response);\n\n\t\t\t\tgetTotal(response);\n\n\t\t\t\tif (response.length === 0) {\n\t\t\t\t\twindow.location.replace('/cart');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\t\t}\n\t}, []);\n\n\t//Hàm này dùng để tính tổng tiền carts\n\tfunction getTotal(carts) {\n\t\tlet sub_total = 0;\n\n\t\tconst sum_total = carts.map((value) => {\n\t\t\treturn (sub_total +=\n\t\t\t\tparseInt(value.productId.price) * parseInt(value.quantity));\n\t\t});\n\n\t\tsetTotal(sub_total);\n\t}\n\n\t//Check Validation\n\tconst handlerSubmit = () => {\n\t\tif (!fullname) {\n\t\t\tsetFullnameError(true);\n\t\t\tsetEmailError(false);\n\t\t\tsetPhoneError(false);\n\t\t\tsetAddressError(false);\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (!email) {\n\t\t\t\tsetFullnameError(false);\n\t\t\t\tsetEmailError(true);\n\t\t\t\tsetPhoneError(false);\n\t\t\t\tsetAddressError(false);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tsetPhoneError(false);\n\t\t\t\tsetAddressError(false);\n\t\t\t\tsetFullnameError(false);\n\n\t\t\t\tif (!validateEmail(email)) {\n\t\t\t\t\tsetEmailRegex(true);\n\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\tsetAddressError(false);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tsetEmailRegex(false);\n\n\t\t\t\t\tif (!phone) {\n\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\t\tsetPhoneError(true);\n\t\t\t\t\t\tsetAddressError(false);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\t\tsetAddressError(false);\n\n\t\t\t\t\t\tif (!address) {\n\t\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\t\t\tsetAddressError(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('Thanh Cong');\n\n\t\t\t\t\t\t\tsetLoad(!load);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconsole.log(load);\n\n\t//Hàm này bắt đầu gửi Email xác nhận đơn hàng\n\tuseEffect(() => {\n\t\tif (load) {\n\t\t\tlet products = [];\n\t\t\tfor(const cart of carts) {\n\t\t\t\tproducts.push({\n\t\t\t\t\tproductId: cart.productId._id,\n\t\t\t\t\tquantity: cart.quantity\n\t\t\t\t})\n\t\t\t}\n\t\t\tconsole.log(products);\n\t\t\tconst params = {\n\t\t\t\tidUser: idUser,\n\t\t\t\ttotal: total,\n\t\t\t\tfullname: fullname,\n\t\t\t\temail: email,\n\t\t\t\tphone: phone,\n\t\t\t\taddress: address,\n\t\t\t\tproducts: products\n\t\t\t}\n\t\t\tconst query = '?' + queryString.stringify(params);\n\n\t\t\tconst sendMail = async () => {\n\t\t\t\tconst response = await CheckoutAPI.postEmail(query);\n\t\t\t\tconsole.log(response);\n\t\t\t};\n\t\t\tconst sendOrder = async () => {\n\t\t\t\tconst response = await CheckoutAPI.postOrder(query);\n\t\t\t\tconsole.log(response);\n\t\t\t}\n\t\t\tsendMail();\n\t\t\tsendOrder();\n\n\t\t\t// const data = localStorage.getItem('id_user');\n\n\t\t\t// Gửi socket lên server\n\t\t\t// socket.emit('send_order', data);\n\n\t\t\t//Dùng setTimeout delay 3s\n\t\t\t//Sau 4s nó sẽ thực hiện\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetSuccess(!success);\n\t\t\t\tsetLoad(!load);\n\t\t\t}, 4000);\n\t\t}\n\t}, [load]);\n\n\tconst onChangeName = (e) => {\n\t\tsetFullname(e.target.value);\n\t};\n\n\tconst onChangeEmail = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tconst onChangePhone = (e) => {\n\t\tsetPhone(e.target.value);\n\t};\n\n\tconst onChangeAddress = (e) => {\n\t\tsetAddress(e.target.value);\n\t};\n\n\tfunction validateEmail(email) {\n\t\tconst re =\n\t\t\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\treturn re.test(String(email).toLowerCase());\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{load && (\n\t\t\t\t<div className='wrapper_loader'>\n\t\t\t\t\t<div className='loader'></div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className='container'>\n\t\t\t\t<section className='py-5 bg-light'>\n\t\t\t\t\t<div className='container'>\n\t\t\t\t\t\t<div className='row px-4 px-lg-5 py-lg-4 align-items-center'>\n\t\t\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t\t\t<h1 className='h2 text-uppercase mb-0'>Checkout</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-lg-6 text-lg-right'>\n\t\t\t\t\t\t\t\t<nav aria-label='breadcrumb'>\n\t\t\t\t\t\t\t\t\t<ol className='breadcrumb justify-content-lg-end mb-0 px-0'>\n\t\t\t\t\t\t\t\t\t\t<li className='breadcrumb-item'>\n\t\t\t\t\t\t\t\t\t\t\t<a href='index.html'>Home</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li className='breadcrumb-item'>\n\t\t\t\t\t\t\t\t\t\t\t<a href='cart.html'>Cart</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName='breadcrumb-item active'\n\t\t\t\t\t\t\t\t\t\t\taria-current='page'>\n\t\t\t\t\t\t\t\t\t\t\tCheckout\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\n\t\t\t\t{!success && (\n\t\t\t\t\t<section className='py-5'>\n\t\t\t\t\t\t<h2 className='h5 text-uppercase mb-4'>Billing details</h2>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-lg-8'>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t\t<div className='col-lg-12 form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-small text-uppercase'\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='Fullname'>\n\t\t\t\t\t\t\t\t\t\t\t\tFull Name:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fullname}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeName}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Your Full Name Here!'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{fullnameError && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t* Please Check Your Full Name!\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col-lg-12 form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-small text-uppercase'\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='Email'>\n\t\t\t\t\t\t\t\t\t\t\t\tEmail:{' '}\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeEmail}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Your Email Here!'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{emailError && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t* Please Check Your Email!\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{emailRegex && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t* Incorrect Email Format\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col-lg-12 form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-small text-uppercase'\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='Phone'>\n\t\t\t\t\t\t\t\t\t\t\t\tPhone Number:{' '}\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangePhone}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Your Phone Number Here!'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{phoneError && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t* Please Check Your Phone Number!\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col-lg-12 form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-small text-uppercase'\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='Address'>\n\t\t\t\t\t\t\t\t\t\t\t\tAddress:{' '}\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={address}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeAddress}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Your Address Here!'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{addressError && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t* Please Check Your Address!\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col-lg-12 form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-dark'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'white' }}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handlerSubmit}>\n\t\t\t\t\t\t\t\t\t\t\t\tPlace order\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-lg-4'>\n\t\t\t\t\t\t\t\t<div className='card border-0 rounded-0 p-lg-4 bg-light'>\n\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t<h5 className='text-uppercase mb-4'>\n\t\t\t\t\t\t\t\t\t\t\tYour order\n\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t<ul className='list-unstyled mb-0'>\n\t\t\t\t\t\t\t\t\t\t\t{carts &&\n\t\t\t\t\t\t\t\t\t\t\t\tcarts.map((value) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={value.productId._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='d-flex align-items-center justify-content-between'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong className='small font-weight-bold'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value.productId.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-muted small'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{convertMoney(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.productId.price\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVND x {value.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='border-bottom my-2'></li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<li className='d-flex align-items-center justify-content-between'>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong className='text-uppercase small font-weight-bold'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{convertMoney(total)} VND</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\n\t\t\t\t{success && (\n\t\t\t\t\t<section className='py-5'>\n\t\t\t\t\t\t<div className='p-5'>\n\t\t\t\t\t\t\t<h1>You Have Successfully Ordered!</h1>\n\t\t\t\t\t\t\t<p style={{ fontSize: '1.2rem' }}>\n\t\t\t\t\t\t\t\tPlease Check Your Email.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}